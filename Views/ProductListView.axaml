<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             x:Class="CoffeeShopApp.Views.ProductListView"
             x:Name="root">
  <StackPanel Spacing="12">
    <TextBlock Text="Product list" FontSize="22" FontWeight="Bold"/>
    <StackPanel Orientation="Horizontal" Spacing="8">
      <TextBox Width="220" Watermark="Search..." Text="{Binding SearchText}"/>
  <Button Command="{Binding LoadCmd}" ToolTip.Tip="Search" Classes="icon-button">
    <Image Source="avares://CoffeeShopApp/Assets/search.png" Width="20" Height="20" Stretch="Uniform" HorizontalAlignment="Center" VerticalAlignment="Center"/>
  </Button>
  <Button Command="{Binding RefreshCmd}" ToolTip.Tip="Refresh" Classes="icon-button">
    <Image Source="avares://CoffeeShopApp/Assets/refresh.png" Width="20" Height="20" Stretch="Uniform" HorizontalAlignment="Center" VerticalAlignment="Center"/>
  </Button>
  <Button Classes="accent" Content="+ Add Product" Command="{Binding AddCmd}"/>
    </StackPanel>

  <ListBox ItemsSource="{Binding Items}">
      <ListBox.ItemTemplate>
        <DataTemplate>
          <Border Classes="card" Margin="6">
            <Grid ColumnDefinitions="Auto,*,Auto,Auto,Auto" VerticalAlignment="Center" ColumnSpacing="12">
              <!-- Icon column: show only the icon (no filled rounded background) to match screenshot -->
              <Grid Width="56" VerticalAlignment="Center" HorizontalAlignment="Left">
                <Image Source="avares://CoffeeShopApp/Assets/coffee.png"
                       Width="24" Height="24" Stretch="Uniform"
                       HorizontalAlignment="Left" VerticalAlignment="Center"
                       Margin="12,0,0,0" Opacity="0.95"/>
              </Grid>

              <!-- Main info -->
              <StackPanel Grid.Column="1" VerticalAlignment="Center">
                <TextBlock Text="{Binding Name}" FontWeight="SemiBold"/>
                <TextBlock Text="{Binding Category}" Opacity="0.8" FontSize="12"/>
              </StackPanel>

              <TextBox Grid.Column="2" Width="80" Text="{Binding Price}" Margin="16,0" HorizontalAlignment="Right"/>
              <TextBox Grid.Column="3" Width="60" Text="{Binding Stock}" Margin="16,0" HorizontalAlignment="Right"/>
              <StackPanel Grid.Column="4" Orientation="Horizontal" Spacing="6">
                <Button Content="Edit" Command="{Binding DataContext.SaveCmd, ElementName=root}" CommandParameter="{Binding .}"/>
                <Button Classes="danger" Content="Delete" Command="{Binding DataContext.DeleteCmd, ElementName=root}" CommandParameter="{Binding .}"/>
              </StackPanel>
            </Grid>
          </Border>
        </DataTemplate>
      </ListBox.ItemTemplate>
  </ListBox>
  </StackPanel>
</UserControl>
